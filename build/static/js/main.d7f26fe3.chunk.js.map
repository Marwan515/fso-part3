{"version":3,"sources":["services/phonebooks.js","components/addPerson.js","components/person.js","components/searchFilter.js","components/messageAlerts.js","App.js","index.js"],"names":["baseUrl","phonebooks","axios","get","then","res","data","contact","post","id","delete","concat","put","AddPerson","_ref","os","nval","noc","numval","numoc","React","createElement","onSubmit","value","onChange","type","Person","name","number","dFun","dval","className","onClick","data-name","Searchfilter","val","oc","MessageAlert","message","ttm","App","_useState","useState","_useState2","_slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","showAll","setShowAll","_useState9","_useState10","newFilter","setNewFilter","_useState11","_useState12","newMessage","setMessage","_useState13","_useState14","messageType","setMessageType","_useState15","_useState16","updatePersons","setUpdatePersons","personsToShow","filter","i","toLowerCase","includes","useEffect","phoneBookService","initialContacts","deletePerson","event","preventDefault","window","confirm","target","getAttribute","r","setTimeout","catch","error","existingContact","find","o","length","rc","map","key","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.d7f26fe3.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(res => res.data)\n}\n\nconst create = contact => {\n    const request = axios.post(baseUrl, contact)\n    return request.then(res => res.data)\n}\n\nconst deleteContact = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request\n}\n\nconst updateContact = (id, contact) => {\n    const request = axios.put(`${baseUrl}/${id}`, contact)\n    return request.then(res => res.data)\n}\n\nexport default {getAll, create, deleteContact, updateContact}","import React from 'react'\nconst AddPerson = ({os, nval, noc, numval, numoc}) => {\n    return (\n      <form onSubmit={os}>\n        <div>\n          Name: <input value={nval} onChange={noc} />\n        </div>\n        <br/>\n        <div>\n          Number: <input value={numval} onChange={numoc} />\n        </div>\n        <br/>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\nexport default AddPerson","import React from 'react'\n\nconst Person = ({name, number, dFun, dval}) => {\n    return (\n      <div className='box'>{name}  {number}  <button className='delbtn' onClick={dFun} value={dval} data-name={name}>Delete</button></div>\n    )\n}\nexport default Person    ","import React from 'react'\n\nconst Searchfilter = ({val, oc}) => {\n    return (\n      <div>\n        Filter Shown with <input value={val} onChange={oc} />\n      </div>\n    )\n}\nexport default Searchfilter","import React from 'react'\nimport '../index.css'\n\nconst MessageAlert =  ({message, ttm}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={ttm}>\n            {message}\n        </div>\n    )\n}\nexport default MessageAlert","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport phoneBookService from './services/phonebooks'\nimport AddPerson from './components/addPerson'\nimport Person from './components/person'\nimport Searchfilter from './components/searchFilter'\nimport MessageAlert from './components/messageAlerts'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState(null) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [newFilter, setNewFilter] = useState('')\n  const [newMessage, setMessage] = useState(null)\n  const [messageType, setMessageType] = useState(null)\n  const [updatePersons, setUpdatePersons] = useState(null)\n\n  const personsToShow = showAll ? persons : persons.filter(i => {\n    if (i.name.toLowerCase().includes(newFilter.toLowerCase()) || i.number.toLowerCase().includes(newFilter.toLowerCase())) {\n      return true\n    } else {\n      return false\n    }\n  })\n\n  useEffect(() => {\n    phoneBookService\n      .getAll()\n      .then(initialContacts => {\n        setPersons(initialContacts)\n      })\n  }, [updatePersons])\n\n  const filterInput = (event) => {\n    setNewFilter(event.target.value)\n    setShowAll(false)\n  }\n\n  const nameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const numberInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let existingContact = persons.find(o => o.name.toLowerCase() === newName.toLowerCase())\n    if (newName.length < 1 || newNumber.length < 1) {\n      setMessage('Name or Number cant be blank!')\n        setMessageType('error')\n        setTimeout(() => {\n          setMessage(null)\n          setMessageType(null)\n        }, 2500)\n    } else if (existingContact) {\n      if (window.confirm(`${newName} is already added to the phonebook, Replace the old number with the new one ?`)) {\n        existingContact.number = newNumber\n        phoneBookService\n          .updateContact(existingContact.id, existingContact)\n          .then(res => {\n            setUpdatePersons('updated contact')\n            setNewName('')\n            setNewNumber('')\n            setMessage(`${event.target.getAttribute('data-name')}'s details Has Been have been updated!`)\n            setMessageType('success')\n            setTimeout(() => {\n            setMessage(null)\n            setMessageType(null)\n            }, 2500)\n          })\n          .catch(error => {\n            setMessage(`${newName}'s details Has already been removed from the server!`)\n            setMessageType('error')\n            setTimeout(() => {\n            setMessage(null)\n            setNewName('')\n            setNewNumber('')\n            setMessageType(null)\n            }, 2500)\n            setUpdatePersons('errorUpdated')\n          })\n      }\n    } else {\n      phoneBookService\n        .create({name: newName, number: newNumber, id: persons.length + 1})\n        .then(rc => {\n          setMessage(`${newName} Has Been added to the Phonebook!`)\n          setMessageType('success')\n          setTimeout(() => {\n            setMessage(null)\n            setMessageType(null)\n          }, 2500)\n          setUpdatePersons(\"contact added\")\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n  }\n  const deletePerson = (event) => {\n    event.preventDefault()\n    if (window.confirm(`Delete ${event.target.getAttribute('data-name')} ?`)) {\n      phoneBookService\n        .deleteContact(event.target.value)\n        .then(r => {\n          setUpdatePersons(\"deleted\")\n          setMessage(`${event.target.getAttribute('data-name')} Has Been deleted!`)\n          setMessageType('error')\n          setTimeout(() => {\n            setMessage(null)\n            setMessageType(null)\n          }, 2500)\n        })\n        .catch(error => {\n          setMessage(`${event.target.getAttribute('data-name')}'s details Has already been removed from the server!`)\n          setMessageType('error')\n          setTimeout(() => {\n          setMessage(null)\n          setNewName('')\n          setNewNumber('')\n          setMessageType(null)\n          }, 2500)\n          setUpdatePersons('errorUpdatedDel')\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2 className='title'>Phonebook</h2>\n      <br />\n      {newMessage && <MessageAlert message={newMessage} ttm={messageType} />}\n      <br />\n      <Searchfilter val={newFilter} oc={filterInput} />\n      <br/>\n      <AddPerson os={addPerson} nval={newName} noc={nameInput} numval={newNumber} numoc={numberInput} />\n      <h2>Numbers</h2>\n      <div>\n        {persons && personsToShow.map(i => <Person key={i.id} name={i.name} number={i.number} dval={i.id} dFun={deletePerson} />)}\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport App from './App';\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />);"],"sourceRoot":""}