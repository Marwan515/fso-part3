{"version":3,"sources":["services/phonebooks.js","components/addPerson.js","components/person.js","components/searchFilter.js","components/messageAlerts.js","App.js","index.js"],"names":["baseUrl","phonebooks","axios","get","then","res","data","contact","post","id","delete","concat","put","name","phoneNumber","number","AddPerson","_ref","os","nval","noc","numval","numoc","React","createElement","onSubmit","value","onChange","type","Person","dFun","dval","className","onClick","data-name","Searchfilter","val","oc","MessageAlert","message","ttm","App","_useState","useState","_useState2","_slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","showAll","setShowAll","_useState9","_useState10","newFilter","setNewFilter","_useState11","_useState12","newMessage","setMessage","_useState13","_useState14","messageType","setMessageType","_useState15","_useState16","updatePersons","setUpdatePersons","personsToShow","filter","i","toLowerCase","includes","useEffect","phoneBookService","initialContacts","deletePerson","event","preventDefault","window","confirm","target","getAttribute","r","setTimeout","catch","err","error","info","existingContact","find","o","length","rc","response","map","key","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.0f9d0fee.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(res => res.data)\n}\n\nconst create = contact => {\n    const request = axios.post(baseUrl, contact)\n    return request.then(res => res)\n}\n\nconst deleteContact = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request\n}\n\nconst updateContact = (id, contact) => {\n    const request = axios.put(`${baseUrl}/${id}`, {name: contact.name, phoneNumber: contact.number})\n    return request.then(res => res)\n}\n\nconst bookInfo = () => {\n    const request = axios.get(`${baseUrl}/info`)\n    return request.then(res => res.data)\n}\n\nexport default {getAll, create, deleteContact, updateContact, bookInfo}\n","import React from 'react'\nconst AddPerson = ({os, nval, noc, numval, numoc}) => {\n    return (\n      <form onSubmit={os}>\n        <div>\n          Name: <input value={nval} onChange={noc} />\n        </div>\n        <br/>\n        <div>\n          Number: <input value={numval} onChange={numoc} />\n        </div>\n        <br/>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\nexport default AddPerson","import React from 'react'\n\nconst Person = ({name, number, dFun, dval}) => {\n    return (\n      <div className='box'>{name}  {number}  <button className='delbtn' onClick={dFun} value={dval} data-name={name}>Delete</button></div>\n    )\n}\nexport default Person    ","import React from 'react'\n\nconst Searchfilter = ({val, oc}) => {\n    return (\n      <div>\n        Filter Shown with <input value={val} onChange={oc} />\n      </div>\n    )\n}\nexport default Searchfilter","import React from 'react'\nimport '../index.css'\n\nconst MessageAlert =  ({message, ttm}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={ttm}>\n            {message}\n        </div>\n    )\n}\nexport default MessageAlert","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport phoneBookService from './services/phonebooks'\nimport AddPerson from './components/addPerson'\nimport Person from './components/person'\nimport Searchfilter from './components/searchFilter'\nimport MessageAlert from './components/messageAlerts'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState(null) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [newFilter, setNewFilter] = useState('')\n  const [newMessage, setMessage] = useState(null)\n  const [messageType, setMessageType] = useState(null)\n  const [updatePersons, setUpdatePersons] = useState(null)\n\n  const personsToShow = showAll ? persons : persons.filter(i => {\n    if (i.name.toLowerCase().includes(newFilter.toLowerCase()) || i.number.toLowerCase().includes(newFilter.toLowerCase())) {\n      return true\n    } else {\n      return false\n    }\n  })\n\n  useEffect(() => {\n    phoneBookService\n      .getAll()\n      .then(initialContacts => {\n        setPersons(initialContacts)\n      })\n  }, [updatePersons])\n\n  const filterInput = (event) => {\n    setNewFilter(event.target.value)\n    setShowAll(false)\n  }\n\n  const nameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const numberInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let existingContact = persons.find(o => o.name.toLowerCase() === newName.toLowerCase())\n    if (newName.length < 1 || newNumber.length < 1) {\n      setMessage('Name or Number cant be blank!')\n        setMessageType('error')\n        setTimeout(() => {\n          setMessage(null)\n          setMessageType(null)\n        }, 2500)\n    } else if (existingContact) {\n      if (window.confirm(`${existingContact.name} is already added to the phonebook, Replace the old number with the new one ?`)) {\n        existingContact.number = newNumber\n        phoneBookService\n          .updateContact(existingContact.id, existingContact)\n          .then(res => {\n            setUpdatePersons('updated contact')\n            setNewName('')\n            setNewNumber('')\n            setMessage(`${existingContact.name}'s details Has Been have been updated!`)\n            setMessageType('success')\n            setTimeout(() => {\n            setMessage(null)\n            setMessageType(null)\n            }, 2500)\n          })\n          .catch(err => {\n            setMessage(err.error)\n            setMessageType('error')\n            setTimeout(() => {\n            setMessage(null)\n            setNewName('')\n            setNewNumber('')\n            setMessageType(null)\n            }, 2500)\n            setUpdatePersons('errorUpdated')\n          })\n      }\n    } else {\n      phoneBookService\n        .create({name: newName, phoneNumber: newNumber})\n        .then(rc => {\n          setMessage(`${newName} Has Been added to the Phonebook!`)\n          setMessageType('success')\n          setTimeout(() => {\n            setMessage(null)\n            setMessageType(null)\n          }, 2500)\n          setUpdatePersons(rc.data)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(err => {\n          setMessage(err.response.data.error)\n          setMessageType('error')\n          setTimeout(() => {\n          setMessage(null)\n          setNewName('')\n          setNewNumber('')\n          setMessageType(null)\n          }, 4500)\n          setUpdatePersons('errorUpdated')\n        })\n    }\n  }\n  const deletePerson = (event) => {\n    event.preventDefault()\n    if (window.confirm(`Delete ${event.target.getAttribute('data-name')} ?`)) {\n      phoneBookService\n        .deleteContact(event.target.value)\n        .then(r => {\n          setUpdatePersons(\"deleted\")\n          setMessage(`${event.target.getAttribute('data-name')} Has Been deleted!`)\n          setMessageType('success')\n          setTimeout(() => {\n            setMessage(null)\n            setMessageType(null)\n          }, 2500)\n        })\n        .catch(err => {\n          setMessage(err.error)\n          setMessageType('error')\n          setTimeout(() => {\n          setMessage(null)\n          setNewName('')\n          setNewNumber('')\n          setMessageType(null)\n          }, 2500)\n          setUpdatePersons('errorUpdatedDel')\n        })\n    }\n  }\n\n  const showInfo = (event) => {\n    event.preventDefault()\n    phoneBookService\n      .bookInfo()\n      .then(info => {\n      setMessage(info)\n      setMessageType('success')\n      setTimeout(() => {\n        setMessage(null)\n        setMessageType(null)\n      }, 2750)\n      })\n      .catch(err => {\n        setMessage(err.error)\n        setMessageType('error')\n        setTimeout(() => {\n        setMessage(null)\n        setNewName('')\n        setNewNumber('')\n        setMessageType(null)\n        }, 2500)\n        setUpdatePersons('errorUpdatedDel')\n      })\n  }\n\n  return (\n    <div>\n      <h2 className='title'>Phonebook</h2>\n      <br />\n      <button onClick={showInfo}>Show phonebook info</button>\n      <br />\n      {newMessage && <MessageAlert message={newMessage} ttm={messageType} />}\n      <br />\n      <Searchfilter val={newFilter} oc={filterInput} />\n      <br/>\n      <AddPerson os={addPerson} nval={newName} noc={nameInput} numval={newNumber} numoc={numberInput} />\n      <h2>Numbers</h2>\n      <div>\n        {persons && personsToShow.map(i => <Person key={i.id} name={i.name} number={i.number} dval={i.id} dFun={deletePerson} />)}\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport App from './App';\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />);"],"sourceRoot":""}